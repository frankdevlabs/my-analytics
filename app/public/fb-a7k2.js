/* Privacy-First Analytics Tracker v2.1.0 */
!function(){"use strict";var t=function(){var t=Date.now().toString(36),e="",n="abcdefghijklmnopqrstuvwxyz0123456789",o=24-t.length;try{var i=new Uint8Array(o);crypto.getRandomValues(i);for(var r=0;r<o;r++)e+=n[i[r]%36]}catch(t){for(r=0;r<o;r++)e+=n[Math.floor(36*Math.random())]}return"c"+t+e},e=function(){try{return crypto.randomUUID()}catch(t){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}},n=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){return}},o=function(t,e){try{if("function"==typeof navigator.sendBeacon){var n=new Blob([JSON.stringify(e)],{type:"application/json"});if(navigator.sendBeacon(t,n))return}}catch(t){}try{if("function"==typeof fetch)return void fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),keepalive:!0}).catch(function(){})}catch(t){}try{var o=function(t){try{return encodeURIComponent(btoa(JSON.stringify(t)))}catch(e){try{return encodeURIComponent(btoa(unescape(encodeURIComponent(JSON.stringify(t)))))}catch(t){return""}}}(e);o&&((new Image).src=t+"?data="+o)}catch(t){}},i=function(){try{for(var t=document.getElementsByTagName("script"),e=0;e<t.length;e++){var n=t[e].src;if(n&&(-1!==n.indexOf("tracker.js")||-1!==n.indexOf("tracker.min.js")||-1!==n.indexOf("fb-a7k2.js")))return new URL(n).origin}}catch(t){}return window.location.origin}();if("1"!==navigator.doNotTrack){var r=t(),a=function(){try{var t=sessionStorage.getItem("analytics_session_id");return t||(t=e(),sessionStorage.setItem("analytics_session_id",t)),t}catch(t){return e()}}(),c=Date.now(),d=0,s=window.location.pathname,u=new Set,m=!0;document.addEventListener("visibilitychange",function(){d++});var h=function(){try{var t=document.documentElement||{},e=document.body||{},n=t.scrollTop||e.scrollTop||0,o=t.clientHeight||window.innerHeight||0,i=Math.max(e.scrollHeight||0,e.offsetHeight||0,t.clientHeight||0,t.scrollHeight||0,t.offsetHeight||0);return i<=o?100:Math.min(100,Math.round((n+o)/i*100))}catch(t){return 0}},f=function(){var t,e=function(){try{var t=new URLSearchParams(window.location.search);return{utm_source:t.get("utm_source")||void 0,utm_medium:t.get("utm_medium")||void 0,utm_campaign:t.get("utm_campaign")||void 0,utm_content:t.get("utm_content")||void 0,utm_term:t.get("utm_term")||void 0}}catch(t){return{}}}();return{page_id:r,session_id:a,added_iso:(new Date).toISOString(),hostname:window.location.hostname,path:window.location.pathname,hash:window.location.hash||void 0,query_string:window.location.search.substring(1)||void 0,document_title:document.title||void 0,document_referrer:document.referrer||void 0,device_type:(t=window.innerWidth,t<768?"mobile":t>=768&&t<=1024?"tablet":"desktop"),viewport_width:window.innerWidth,viewport_height:window.innerHeight,screen_width:window.screen?window.screen.width:void 0,screen_height:window.screen?window.screen.height:void 0,language:navigator.language||void 0,timezone:n(),user_agent:navigator.userAgent,utm_source:e.utm_source,utm_medium:e.utm_medium,utm_campaign:e.utm_campaign,utm_content:e.utm_content,utm_term:e.utm_term,duration_seconds:0,visibility_changes:d,scrolled_percentage:void 0,time_on_page_seconds:void 0,is_internal_referrer:!m}},v=function(t){o(i+"/api/metrics",t)},l=function(t,e){o(i+"/api/metrics/append",{page_id:r,duration_seconds:t,scrolled_percentage:e})},g=function(t,e){var n=i+"/api/metrics/event",c={event_name:t,event_metadata:e||{},page_id:r,session_id:a,path:window.location.pathname,timestamp:(new Date).toISOString()};o(n,c)};window.trackEvent=g;var w=function(){var t=h();[25,50,75,100].forEach(function(e){if(t>=e&&!u.has(e)){u.add(e),g("scroll_"+e,{percentage:e});var n=Math.floor((Date.now()-c)/1e3);l(n,Math.floor(t))}})},p=function(){var e=window.location.pathname;if(e!==s){var n=Math.floor((Date.now()-c)/1e3),o=h();l(n,o),r=t(),c=Date.now(),d=0,u.clear(),m=!1,s=e;var i=f();v(i)}},_=function(){var t=f();v(t),m=!1;var e,n,o=(e=w,function(){var t=this,o=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(t,o)},250)});window.addEventListener("scroll",o);var i=history.pushState;history.pushState=function(){i.apply(this,arguments),p()};var r=history.replaceState;history.replaceState=function(){r.apply(this,arguments),p()},window.addEventListener("popstate",p),window.addEventListener("beforeunload",function(){var t=Math.floor((Date.now()-c)/1e3),e=h();l(t,e)}),window.addEventListener("pagehide",function(){var t=Math.floor((Date.now()-c)/1e3),e=h();l(t,e)})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",_):_()}}();