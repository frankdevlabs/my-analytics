/* Privacy-First Analytics Tracker v2.0.0 */
!function(){"use strict";var t=function(){var t=Date.now().toString(36),e="",n="abcdefghijklmnopqrstuvwxyz0123456789",o=24-t.length;try{var i=new Uint8Array(o);crypto.getRandomValues(i);for(var a=0;a<o;a++)e+=n[i[a]%36]}catch(t){for(a=0;a<o;a++)e+=n[Math.floor(36*Math.random())]}return"c"+t+e},e=function(){try{return crypto.randomUUID()}catch(t){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}},n=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){return}};if("1"!==navigator.doNotTrack){var o=t(),i=function(){try{var t=sessionStorage.getItem("analytics_session_id");return t||(t=e(),sessionStorage.setItem("analytics_session_id",t)),t}catch(t){return e()}}(),a=Date.now(),r=0,c=window.location.pathname,d=new Set,s=!0;document.addEventListener("visibilitychange",function(){r++});var u=function(){try{var t=document.documentElement||{},e=document.body||{},n=t.scrollTop||e.scrollTop||0,o=t.clientHeight||window.innerHeight||0,i=Math.max(e.scrollHeight||0,e.offsetHeight||0,t.clientHeight||0,t.scrollHeight||0,t.offsetHeight||0);return i<=o?100:Math.min(100,Math.round((n+o)/i*100))}catch(t){return 0}},h=function(){var t,e=function(){try{var t=new URLSearchParams(window.location.search);return{utm_source:t.get("utm_source")||void 0,utm_medium:t.get("utm_medium")||void 0,utm_campaign:t.get("utm_campaign")||void 0,utm_content:t.get("utm_content")||void 0,utm_term:t.get("utm_term")||void 0}}catch(t){return{}}}();return{page_id:o,session_id:i,added_iso:(new Date).toISOString(),hostname:window.location.hostname,path:window.location.pathname,hash:window.location.hash||void 0,query_string:window.location.search.substring(1)||void 0,document_title:document.title||void 0,document_referrer:document.referrer||void 0,device_type:(t=window.innerWidth,t<768?"mobile":t>=768&&t<=1024?"tablet":"desktop"),viewport_width:window.innerWidth,viewport_height:window.innerHeight,screen_width:window.screen?window.screen.width:void 0,screen_height:window.screen?window.screen.height:void 0,language:navigator.language||void 0,timezone:n(),user_agent:navigator.userAgent,utm_source:e.utm_source,utm_medium:e.utm_medium,utm_campaign:e.utm_campaign,utm_content:e.utm_content,utm_term:e.utm_term,duration_seconds:0,visibility_changes:r,scrolled_percentage:void 0,time_on_page_seconds:void 0,is_internal_referrer:!s}},m=function(t){try{var e=window.location.origin+"/api/track";fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),keepalive:!0}).catch(function(){})}catch(t){}},l=function(t,e){try{var n=window.location.origin+"/api/track/append";fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page_id:o,duration_seconds:t,scrolled_percentage:e}),keepalive:!0}).catch(function(){})}catch(t){}},w=function(t,e){try{var n=window.location.origin+"/api/track/event";fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_name:t,event_metadata:e||{},page_id:o,session_id:i,path:window.location.pathname,timestamp:(new Date).toISOString()}),keepalive:!0}).catch(function(){})}catch(t){}};window.trackEvent=w;var v=function(){var t=u();[25,50,75,100].forEach(function(e){if(t>=e&&!d.has(e)){d.add(e),w("scroll_"+e,{percentage:e});var n=Math.floor((Date.now()-a)/1e3);l(n,Math.floor(t))}})},g=function(){var e=window.location.pathname;if(e!==c){var n=Math.floor((Date.now()-a)/1e3),i=u();l(n,i),o=t(),a=Date.now(),r=0,d.clear(),s=!1,c=e;var w=h();m(w)}},p=function(){var t=h();m(t),s=!1;var e,n,o=(e=v,function(){var t=this,o=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(t,o)},250)});window.addEventListener("scroll",o);var i=history.pushState;history.pushState=function(){i.apply(this,arguments),g()};var r=history.replaceState;history.replaceState=function(){r.apply(this,arguments),g()},window.addEventListener("popstate",g),window.addEventListener("beforeunload",function(){var t=Math.floor((Date.now()-a)/1e3),e=u();l(t,e)}),window.addEventListener("pagehide",function(){var t=Math.floor((Date.now()-a)/1e3),e=u();l(t,e)})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",p):p()}}();